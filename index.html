<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Creascola Credit Leaderboard</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #111;
    color: #0ff;
    text-align: center;
    margin: 0;
    padding: 50px 20px; /* more space around */
  }

  h1 {
    font-size: 3em;
    margin-bottom: 40px;
  }

  .leaderboard {
    margin: 0 auto;
    max-width: 600px;
    background: #222;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 0 20px #0ff;
    font-size: 1.8em;
  }

  .class-row {
    display: flex;
    justify-content: space-between;
    padding: 12px;
    border-bottom: 2px solid #333;
  }

  #login-icon {
    font-size: 2.5em;
    cursor: pointer;
    position: fixed;
    top: 20px;
    right: 20px;
    color: #0ff;
    z-index: 200;
  }

  #login-area {
    display: none;
    position: fixed;
    top: 80px;
    right: 20px;
    background: #222;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 0 20px #0ff;
    max-width: 300px;
    z-index: 100;
    font-size: 1.2em;
  }

  #login-area input, #points-area input, #points-area select {
    width: 80%;
    padding: 10px;
    margin: 10px 0;
    font-size: 1em;
    border-radius: 8px;
    border: none;
    text-align: center;
  }

  button {
    background: #0ff;
    border: none;
    padding: 12px 20px;
    margin: 10px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.2em;
  }

  button:hover {
    background: #0cc;
  }

  #points-area {
    margin-top: 30px;
    font-size: 1.2em;
  }
</style>
</head>
<body>

<h1>üèÜ Creascola Credit Leaderboard</h1>

<div id="login-icon" onclick="toggleLogin()">üîë</div>

<div id="login-area">
  <h3>Login</h3>
  <input type="text" id="username" placeholder="Username"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <p id="login-status"></p>
</div>

<div id="points-area" style="display:none;">
  <h3>Add or Remove Points</h3>
  <select id="class-select">
    <option value="5.A">5.A</option>
    <option value="5.B">5.B</option>
    <option value="6.A">6.A</option>
    <option value="6.B">6.B</option>
    <option value="7.A">7.A</option>
  </select><br>
  <input type="text" id="points-input" placeholder="Points to add or - points to remove"><br>
  <button onclick="updatePoints()">Update Points</button>
</div>

<div class="leaderboard" id="leaderboard"></div>

<script>
const classes = ["5.A","5.B","6.A","6.B","7.A"];
let scores = JSON.parse(localStorage.getItem("classScores")) || {};
classes.forEach(c => { if(scores[c] === undefined) scores[c] = 0; });

const validUsers = { admin: "CC_Credit_25_26", teacher: "abcd" }; 
let loggedIn = false;

function toggleLogin() {
  const area = document.getElementById("login-area");
  area.style.display = area.style.display === "none" ? "block" : "none";
}

function login() {
  const user = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  if(validUsers[user] && validUsers[user] === pass) {
    loggedIn = true;
    document.getElementById("login-status").innerText = "‚úÖ Logged in as " + user;
    document.getElementById("points-area").style.display = "block";
    toggleLogin(); // hide login after login
  } else {
    document.getElementById("login-status").innerText = "‚ùå Wrong username or password";
  }
}

function updatePoints() {
  if(!loggedIn) return;
  const selected = document.getElementById("class-select").value;
  let points = parseInt(document.getElementById("points-input").value);
  if(isNaN(points)) return alert("Please enter a valid number (use - to remove points).");
  scores[selected] += points;
  if(scores[selected] < 0) scores[selected] = 0; // no negative total points
  localStorage.setItem("classScores", JSON.stringify(scores));
  renderLeaderboard();
  document.getElementById("points-input").value = "";
}

function renderLeaderboard() {
  const lb = document.getElementById("leaderboard");
  lb.innerHTML = "<h3>Leaderboard</h3>";
  const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
  sorted.forEach(([cls, pts]) => {
    lb.innerHTML += `<div class="class-row"><span>${cls}</span><span>${pts} pts</span></div>`;
  });
}

renderLeaderboard();
</script>

</body>
</html>
